{"version":3,"sources":["./src/app/pages/shared-module/popover-participant-invite/popover-participant-invite.page.html","./src/app/pages/shared-module/popover-participant-invite/popover-participant-invite.page.scss","./src/app/pages/shared-module/popover-participant-invite/popover-participant-invite.page.ts"],"names":[],"mappings":"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","file":"default~components-session-header-session-header-module~pages-main-main-module~pages-session-assignm~1c7471a3-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <h2 class=\\\"title\\\" style=\\\"font-size: large;padding:2%;\\\"><b>Invite Friends</b><ion-icon style=\\\"float: right;\\\" src=\\\"assets/images/pop-up-cross.svg\\\" (click)=\\\"closePopover()\\\"></ion-icon> </h2>\\n</ion-header>\\n<div style=\\\"display: flex; justify-content: center;align-items: center;padding:2%\\\">{{displayaddedparticipants}}</div>\\n<div style=\\\"display: flex; justify-content: center;align-items: center;\\\"><button class=\\\"popoverinvitebutton\\\" (click)=\\\"invitefriends()\\\"><b>Invite Friend</b></button></div>\\n<ion-content>\\n  \\n  <h2 class=\\\"title\\\"><ion-searchbar [(ngModel)]=\\\"searchParticipant\\\" animated=\\\"true\\\"></ion-searchbar></h2>\\n   <div class=\\\"container\\\" *ngFor=\\\"let participant of textdisplayparticipant| filter:searchParticipant\\\">\\n      <div class=\\\"popovercss\\\" *ngIf=\\\"participant.toBeInvited==='N'\\\">\\n       ({{participant.levelInfo_DisplayName}}) <b>{{participant.username}}</b><label (click) = \\\"AddParticipant(participant)\\\" *ngIf=\\\"participant.toBeInvited==='N'\\\" class=\\\"popoveraddlabel\\\">Add</label>\\n      </div> \\n    </div>\\n</ion-content>\\n\\n\\n\";","export default \".container {\\n  padding: 0 4% 0 4%;\\n}\\n\\nion-toolbar {\\n  --min-height:0px!important;\\n}\\n\\n.popoverinvitebutton {\\n  border: solid 0.1em black;\\n  color: white;\\n  background-color: #1c91a8;\\n  display: block;\\n  margin: 0 auto;\\n  text-align: center;\\n  padding: 0.5em;\\n}\\n\\n.popoveraddlabel {\\n  color: black;\\n  float: right;\\n  padding: 0.1em;\\n}\\n\\n.popovercss {\\n  border: solid #000000;\\n  background-color: white;\\n  margin-bottom: 0.5em;\\n  padding: 0.3em;\\n}\\n\\n.popoveraddbutton {\\n  border: solid 0.1em black;\\n  color: white;\\n  background-color: #1c91a8;\\n  float: right;\\n  padding: 0.1em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2hhcmVkLW1vZHVsZS9wb3BvdmVyLXBhcnRpY2lwYW50LWludml0ZS9DOlxcd29ya2luZ1xcTllQX1Byb2pcXGlvbmljX3Byb2plY3RcXEZTUF9TTFBfQVBQQUkvc3JjXFxhcHBcXHBhZ2VzXFxzaGFyZWQtbW9kdWxlXFxwb3BvdmVyLXBhcnRpY2lwYW50LWludml0ZVxccG9wb3Zlci1wYXJ0aWNpcGFudC1pbnZpdGUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zaGFyZWQtbW9kdWxlL3BvcG92ZXItcGFydGljaXBhbnQtaW52aXRlL3BvcG92ZXItcGFydGljaXBhbnQtaW52aXRlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FDQ0Y7O0FEQ0U7RUFDRSwwQkFBQTtBQ0VKOztBREFFO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxjQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtBQ0dKOztBRERBO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FDSUY7O0FERkE7RUFDRSxxQkFBQTtFQUNBLHVCQUFBO0VBQ0Esb0JBQUE7RUFDQSxjQUFBO0FDS0Y7O0FESEE7RUFDRSx5QkFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FDTUYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zaGFyZWQtbW9kdWxlL3BvcG92ZXItcGFydGljaXBhbnQtaW52aXRlL3BvcG92ZXItcGFydGljaXBhbnQtaW52aXRlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXJ7XG4gIHBhZGRpbmc6IDAgNCUgMCA0JTtcbn1cbiAgaW9uLXRvb2xiYXJ7XG4gICAgLS1taW4taGVpZ2h0OjBweCFpbXBvcnRhbnQ7XG4gIH1cbiAgLnBvcG92ZXJpbnZpdGVidXR0b257XG4gICAgYm9yZGVyOnNvbGlkIDAuMWVtIGJsYWNrO1xuICAgIGNvbG9yOndoaXRlO1xuICAgIGJhY2tncm91bmQtY29sb3I6IzFjOTFhODtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMC41ZW07XG4gIH1cbi5wb3BvdmVyYWRkbGFiZWx7XG4gIGNvbG9yOmJsYWNrO1xuICBmbG9hdDogcmlnaHQ7XG4gIHBhZGRpbmc6MC4xZW07XG59XG4ucG9wb3ZlcmNzc3tcbiAgYm9yZGVyOnNvbGlkICMwMDAwMDA7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBtYXJnaW4tYm90dG9tOjAuNWVtO1xuICBwYWRkaW5nOjAuM2VtO1xufVxuLnBvcG92ZXJhZGRidXR0b257XG4gIGJvcmRlcjpzb2xpZCAwLjFlbSBibGFjaztcbiAgY29sb3I6d2hpdGU7XG4gIGJhY2tncm91bmQtY29sb3I6IzFjOTFhODtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nOjAuMWVtO1xufSIsIi5jb250YWluZXIge1xuICBwYWRkaW5nOiAwIDQlIDAgNCU7XG59XG5cbmlvbi10b29sYmFyIHtcbiAgLS1taW4taGVpZ2h0OjBweCFpbXBvcnRhbnQ7XG59XG5cbi5wb3BvdmVyaW52aXRlYnV0dG9uIHtcbiAgYm9yZGVyOiBzb2xpZCAwLjFlbSBibGFjaztcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWM5MWE4O1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogMC41ZW07XG59XG5cbi5wb3BvdmVyYWRkbGFiZWwge1xuICBjb2xvcjogYmxhY2s7XG4gIGZsb2F0OiByaWdodDtcbiAgcGFkZGluZzogMC4xZW07XG59XG5cbi5wb3BvdmVyY3NzIHtcbiAgYm9yZGVyOiBzb2xpZCAjMDAwMDAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgbWFyZ2luLWJvdHRvbTogMC41ZW07XG4gIHBhZGRpbmc6IDAuM2VtO1xufVxuXG4ucG9wb3ZlcmFkZGJ1dHRvbiB7XG4gIGJvcmRlcjogc29saWQgMC4xZW0gYmxhY2s7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFjOTFhODtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nOiAwLjFlbTtcbn0iXX0= */\";","import { Component, OnInit,ViewChild } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport {PopoverController,IonInfiniteScroll } from '@ionic/angular';\nimport { AssignmentsService } from '../../../services/assignments.service';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport {apiurl} from '../../../model/global-api';\nimport {  GlobalService} from '../../../services/global.service';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-popover-participant-invite',\n  templateUrl: './popover-participant-invite.page.html',\n  styleUrls: ['./popover-participant-invite.page.scss'],\n})\nexport class PopoverParticipantInvitePage implements OnInit {\n  countaddedparticipant: number;  data = []; sessionid:any;searchParticipant=\"\";\n  textdisplayparticipant:any;displayaddedparticipants:any;invitedfriends:any;\n//UserInfo\ntoken:any;studentid:any;\n  constructor(private globalService: GlobalService,private nativeHttp:HTTP,private router:Router,private assignmentsService: AssignmentsService,private storage:Storage,private popoverController:PopoverController ) {\n    this.countaddedparticipant = 0;\n    this.displayaddedparticipants=this.countaddedparticipant+\" Student(s) added\";\n   }\n  \n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n\n  ngOnInit() {}\n  ionViewWillEnter(){\n    this.token=this.globalService.getselectedtoken()\n  this.studentid=this.globalService.getselectedStudentId()\n    this.CallAPISearchStudentsToInvite();\n  }\n  /*Get Search Students to Invite*/\nCallAPISearchStudentsToInvite()\n{\n  this.sessionid=this.assignmentsService.getselectedsessionid();\n this.nativeHttp.setDataSerializer('json');\n  this.nativeHttp.post(apiurl.apiUrl+'session/searchStudents2Invite', {\n    \"Authentication_Token\":this.token, //Get from storage \n   \"Student_Id\":this.studentid,\n  \"Session_Id\":this.sessionid,\n}, {\n 'Accept': 'application/json',\n 'Content-Type': 'application/json' })\n .then(response => {\n   try {\n    console.log('this is response data',response)\n     response.data = JSON.parse(response.data);\n     this.textdisplayparticipant=response.data;\n   } catch(e) {\n     console.error('JSON parsing error plaese be patient');\n     this.assignmentsService.presentError()\n     setTimeout(() => {\n       this.closePopover();\n       this.router.navigateByUrl('tabs/main'); \n    \n   \n     }, 3000);   \n    }\n})\n.catch(response => {\n  // prints 403\n  console.log(response.status);\n\n  // prints Permission denied\n  console.log(response.error);\n  this.assignmentsService.presentError()\n  setTimeout(() => {\n    this.closePopover();\n    this.router.navigateByUrl('tabs/main'); \n \n\n  }, 3000);  \n});\n}\n  closePopover(){\n    this.popoverController.dismiss();\n  }\n  AddParticipant(participant){\n    this.countaddedparticipant++;\n    this.displayaddedparticipants=this.countaddedparticipant+\" Student(s) added\";\n    participant.toBeInvited = participant.toBeInvited == 'N' ? 'Y' : 'N';\n    this.invitedfriends=participant;\n    this.data.push(this.invitedfriends);\n  }\n \n  invitefriends(){\n    //console.log(this.data)-->Add more than  a student at a time\n    this.nativeHttp.setDataSerializer('json');\n    this.nativeHttp.post(apiurl.apiUrl+'session/participant_invite', {\n      \"Authentication_Token\":this.token, //Get from storage \n    \"Owner_Id\":this.studentid,\n    \"Session_Id\": this.sessionid,\n    \"StudentList\":JSON.stringify(this.data)\n }, {\n   'Accept': 'application/json',\n   'Content-Type': 'application/json' })\n   .then(response => {\n    this.assignmentsService.presentLoading()\n     try {\n       response.data = JSON.parse(response.data);\n       //console.log(response.data)\n      this.storage.set('mysession', response.data); \n       this.storage.set('assignmentdetails',response.data.assignments);\n       this.assignmentsService.dismissLoading()\n       this.popoverController.dismiss();\n     } catch(e) {\n       console.error('JSON parsing error');\n       this.assignmentsService.presentError()\n       setTimeout(() => {\n         this.closePopover();\n         this.assignmentsService.dismissLoading()\n         this.router.navigateByUrl('tabs/main'); \n      \n     \n       }, 3000);  \n} \n  })\n  .catch(response => {\n    // prints 403\n   console.log(response.status);\n    // prints Permission denied\n   console.log(response.error);\n   this.assignmentsService.presentError()\n   setTimeout(() => {\n     this.closePopover();\n     this.assignmentsService.dismissLoading()\n     this.router.navigateByUrl('tabs/main'); \n  \n \n   }, 3000); \n  });\n  }\n  }"],"sourceRoot":"webpack:///"}