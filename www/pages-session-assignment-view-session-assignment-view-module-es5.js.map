{"version":3,"sources":["webpack:///src/app/pages/session-assignment-view/session-assignment-view.page.html","webpack:///src/app/pages/session-assignment-view/session-assignment-view-routing.module.ts","webpack:///src/app/pages/session-assignment-view/session-assignment-view.module.ts","webpack:///src/app/pages/session-assignment-view/session-assignment-view.page.scss","webpack:///src/app/pages/session-assignment-view/session-assignment-view.page.ts"],"names":["routes","path","component","SessionAssignmentViewPageRoutingModule","imports","forChild","exports","SessionAssignmentViewPageModule","declarations","SessionAssignmentViewPage","ngZone","nativeHttp","globalService","platform","sessionmypage","dms","router","activatedRoute","modalController","assignmentsService","storage","networkService","refreshvalue","segmentModel","console","log","isactiveassignment","token","getselectedtoken","studentid","getselectedStudentId","getAssignmentList","tutornamefordisplay","getselectedtutorname","backButton","subscribeWithPriority","navigateByUrl","sessionid","sessionstatusended","SESSION_STATUS_ENDED","paramMap","subscribe","params","id","getAll","asgmtid","sessionstatus","getselectedsessionstatus","get","then","val","forEach","valor","asgmt_Id","asgmtlist","imgdisplayinapp","display","asgmt_Data","asgmtdiscusslist","assignmentDiscussions","event","header","fetchinfo","setDataSerializer","post","apiUrl","response","data","JSON","parse","set","test","assignments","valor2","test2","test3","created_On","target","complete","e","error","presentError","setTimeout","status","isactivevideoorvoice","ev","create","cssClass","backdropDismiss","popover","present","online","presentNetworkMsg","presentDrawing","res","setselectedasgmtid","presentModal","bImg","bypassSecurityTrustResourceUrl","componentProps","imagedisplay","discussimgdisplayinapp","asgmtDiscuss_Data","modal","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,QAAMA,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE;AAFb,KADqB,CAAvB;;AAWA,QAAaC,sCAAsC;AAAA;AAAA,KAAnD;;AAAaA,0CAAsC,6DAJlD,+DAAS;AACRC,aAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,aAAO,EAAE,CAAC,4DAAD;AAFD,KAAT,CAIkD,GAAtCH,sCAAsC,CAAtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACMb,QAAaI,+BAA+B;AAAA;AAAA,KAA5C;;AAAaA,mCAA+B,6DAX3C,+DAAS;AACRH,aAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,8GAJO,EAKP,gFALO,EAMP,mEANO,CADD;AASRI,kBAAY,EAAE,CAAC,uFAAD;AATN,KAAT,CAW2C,GAA/BD,+BAA+B,CAA/B;;;;;;;;;;;;;;;;ACtBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoBf,QAAaE,yBAAyB;AASpC,yCAAoBC,MAApB,EAA0CC,UAA1C,EAAkEC,aAAlE,EAAuGC,QAAvG,EAAiIC,aAAjI,EAAqKC,GAArK,EAA8LC,MAA9L,EAAoNC,cAApN,EAA2PC,eAA3P,EAAoSC,kBAApS,EAAmVC,OAAnV,EAA2WC,cAA3W,EAA0Y;AAAA;;AAAtX,aAAAX,MAAA,GAAAA,MAAA;AAAsB,aAAAC,UAAA,GAAAA,UAAA;AAAwB,aAAAC,aAAA,GAAAA,aAAA;AAAqC,aAAAC,QAAA,GAAAA,QAAA;AAA0B,aAAAC,aAAA,GAAAA,aAAA;AAAoC,aAAAC,GAAA,GAAAA,GAAA;AAAyB,aAAAC,MAAA,GAAAA,MAAA;AAAsB,aAAAC,cAAA,GAAAA,cAAA;AAAuC,aAAAC,eAAA,GAAAA,eAAA;AAAyC,aAAAC,kBAAA,GAAAA,kBAAA;AAA+C,aAAAC,OAAA,GAAAA,OAAA;AAAwB,aAAAC,cAAA,GAAAA,cAAA;AAH3W,aAAAC,YAAA,GAAwB,KAAxB,CAG0Y,CAE1Y;;AACA,aAAAC,YAAA,GAAe,YAAf;AAH6Y;;AATzW;AAAA;AAAA,mCAgBzB;AACT;AACAC,iBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA8B,WAA9B;AACF,eAAKC,kBAAL,GAAwB,eAAxB;AACC;AApBmC;AAAA;AAAA,2CAuBpB;AAEd,eAAKC,KAAL,GAAW,KAAKf,aAAL,CAAmBgB,gBAAnB,EAAX;AACA,eAAKC,SAAL,GAAe,KAAKjB,aAAL,CAAmBkB,oBAAnB,EAAf;AACA,eAAKC,iBAAL;AACA,eAAKC,mBAAL,GAAyB,KAAKb,kBAAL,CAAwBc,oBAAxB,EAAzB;AAED;AA9BmC;AAAA;AAAA,0CA+BrB;AAAA;;AAEb,eAAKpB,QAAL,CAAcqB,UAAd,CAAyBC,qBAAzB,CAA+C,EAA/C,EAAmD,YAAM;AACvD,iBAAI,CAACnB,MAAL,CAAYoB,aAAZ,CAA0B,oCAAkC,KAAI,CAACC,SAAjE;AACD,WAFD;AAGD;AAEH;;AAtCsC;AAAA;AAAA,4CA0CrB;AAAA;;AACf,eAAKC,kBAAL,GAA0B,gEAAcC,oBAAxC,CADe,CAEd;;AACA,eAAKtB,cAAL,CAAoBuB,QAApB,CAA6BC,SAA7B,CAAuC,UAAAC,MAAM,EAAI;AAC/C,gBAAIC,EAAE,GAAGD,MAAM,CAACE,MAAP,CAAc,IAAd,CAAT;AACA,kBAAI,CAACP,SAAL,GAAeM,EAAf;AACD,WAHD;AAID,eAAK1B,cAAL,CAAoBuB,QAApB,CAA6BC,SAA7B,CAAuC,UAAAC,MAAM,EAAI;AAC/C,gBAAIG,OAAO,GAAGH,MAAM,CAACE,MAAP,CAAc,SAAd,CAAd;AACA,kBAAI,CAACC,OAAL,GAAaA,OAAb;AACD,WAHD;AAKA,eAAKC,aAAL,GAAmB,KAAK3B,kBAAL,CAAwB4B,wBAAxB,EAAnB;AACA,eAAK3B,OAAL,CAAa4B,GAAb,CAAiB,mBAAjB,EAAsCC,IAAtC,CAA2C,UAACC,GAAD,EAAS;AAChDA,eAAG,CAACC,OAAJ,CAAY,UAACC,KAAD,EAAW;AACvB,kBAAG,MAAI,CAACP,OAAL,IAAcO,KAAK,CAACC,QAAvB,EACA;AACE,sBAAI,CAACC,SAAL,GAAeF,KAAf;AACA,sBAAI,CAACG,eAAL,GAAqB,MAAI,CAACC,OAAL,CAAaJ,KAAK,CAACK,UAAnB,CAArB;AACA,sBAAI,CAACC,gBAAL,GAAsB,MAAI,CAACJ,SAAL,CAAeK,qBAArC;AAED;AACF,aARC;AASH,WAVD;AAYD;AAnEqC;AAAA;AAAA,mCAuErBC,KAvEqB,EAuEhB;;;;;;;;;AAEpB,yBAAKtB,kBAAL,GAA0B,gEAAcC,oBAAxC;AAGA,yBAAKZ,KAAL,GAAW,KAAKf,aAAL,CAAmBgB,gBAAnB,EAAX;AACA,yBAAKC,SAAL,GAAe,KAAKjB,aAAL,CAAmBkB,oBAAnB,EAAf;AACA,yBAAKgB,aAAL,GAAmB,KAAK3B,kBAAL,CAAwB4B,wBAAxB,EAAnB;AAEIc,0B,GAAU;AAAC,gCAAU,kBAAX;AAA8B,sCAAgB;AAA9C,qB;AACVC,6B,GAAY;AAAC,8CAAuB,KAAKnC,KAA7B;AAAoC,oCAAa,KAAKE,SAAtD;AAAiE,iCAAW;AAA5E,qB;AAChB,yBAAKlB,UAAL,CAAgBoD,iBAAhB,CAAkC,MAAlC;AACA,yBAAKpD,UAAL,CAAgBqD,IAAhB,CAAqB,yDAAOC,MAAP,GAAc,oBAAnC,EAAyDH,SAAzD,EAAmED,MAAnE,EAA2EZ,IAA3E,CAAiF,UAAAiB,QAAQ,EAAI;AAC5F,0BAAI;AACFA,gCAAQ,CAACC,IAAT,GAAgBC,IAAI,CAACC,KAAL,CAAWH,QAAQ,CAACC,IAApB,CAAhB,CADE,CACwC;;AAC1C,8BAAI,CAAC/C,OAAL,CAAakD,GAAb,CAAiB,sBAAjB,EAAwCJ,QAAQ,CAACC,IAAjD,EAAuDlB,IAAvD,CAA4D,UAAAC,GAAG,EAAG;AACjE,gCAAI,CAAC9B,OAAL,CAAa4B,GAAb,CAAiB,sBAAjB,EAAyCC,IAAzC,CAA8C,UAACC,GAAD,EAAQ;AAEpD;AACAA,+BAAG,CAACC,OAAJ,CAAY,UAACC,KAAD,EAAW;AAEnB,oCAAI,CAACmB,IAAL,GAAYnB,KAAK,CAACoB,WAAlB;;AACA,oCAAI,CAACD,IAAL,CAAUpB,OAAV,CAAkB,UAAAsB,MAAM,EAAI;AAE1B,sCAAI,CAACC,KAAL,GAAaD,MAAM,CAACpB,QAApB;;AACF,oCAAG,MAAI,CAACR,OAAL,IAAc,MAAI,CAAC6B,KAAtB,EACA;AACE,wCAAI,CAACH,IAAL,GAAYE,MAAM,CAACd,qBAAnB;AACA,wCAAI,CAACgB,KAAL,GAAaF,MAAb;AACAjD,yCAAO,CAACC,GAAR,CAAY,qBAAZ,EAAoC,MAAI,CAAC8C,IAAL,CAAUK,UAA9C;AAEA,wCAAI,CAACrB,eAAL,GAAqB,MAAI,CAACC,OAAL,CAAa,MAAI,CAACmB,KAAL,CAAWlB,UAAxB,CAArB;AACA,wCAAI,CAACC,gBAAL,GAAsB,MAAI,CAACa,IAA3B;AACD;AACF,+BAZC;AAaH,6BAhBD;AAiBD,2BApBD;;AAqBFX,+BAAK,CAACiB,MAAN,CAAaC,QAAb;AACC,yBAvBA;AAwBH,uBA1BC,CA2BF,OAAMC,CAAN,EAAS;AACRvD,+BAAO,CAACwD,KAAR,CAAc,oBAAd;;AACA,8BAAI,CAAC7D,kBAAL,CAAwB8D,YAAxB;;AACAC,kCAAU,CAAC,YAAM;AAChBtB,+BAAK,CAACiB,MAAN,CAAaC,QAAb;;AACA,gCAAI,CAAC9D,MAAL,CAAYoB,aAAZ,CAA0B,WAA1B;AAED,yBAJU,EAIR,IAJQ,CAAV;AAKD;AAEA,qBAtCC,WAsCO,UAAA8B,QAAQ,EAAI;AACnB;AACA1C,6BAAO,CAACC,GAAR,CAAYyC,QAAQ,CAACiB,MAArB,EAA6B,WAA7B,EAFmB,CAGnB;;AACA3D,6BAAO,CAACC,GAAR,CAAYyC,QAAQ,CAACc,KAArB,EAA4B,QAA5B;;AACA,4BAAI,CAAC7D,kBAAL,CAAwB8D,YAAxB;;AACAC,gCAAU,CAAC,YAAM;AAChBtB,6BAAK,CAACiB,MAAN,CAAaC,QAAb;;AACA,8BAAI,CAAC9D,MAAL,CAAYoB,aAAZ,CAA0B,WAA1B;AAED,uBAJU,EAIR,IAJQ,CAAV;AAKC,qBAjDD;;;;;;;;;AAmDD,SAtIqC,CAwIpC;AACA;AACA;AACA;AACA;;AAGA;;AA/IoC;AAAA;AAAA,uCAgJtBwB,KAhJsB,EAgJf;AACpB,cAAG,KAAKrC,YAAL,IAAmB,YAAtB,EACA;AACA,iBAAKG,kBAAL,GAAwB,iBAAxB;AACA,iBAAK0D,oBAAL,GAA0B,eAA1B;AACC,WAJD,MAKK,IAAI,KAAK7D,YAAL,IAAmB,YAAvB,EAAoC;AACvC,iBAAKG,kBAAL,GAAwB,eAAxB;AACA,iBAAK0D,oBAAL,GAA0B,iBAA1B;AACD;AACF;AACF;;AA3JsC;AAAA;AAAA,qCA4JnBC,EA5JmB,EA4JV;;;;;;;;AACV,2BAAM,KAAKnE,eAAL,CAAqBoE,MAArB,CAA4B;AAChDpF,+BAAS,EAAE,qHADqC;AAEhDqF,8BAAQ,EAAE,aAFsC;AAGhDC,qCAAe,EAAE;AAH+B,qBAA5B,CAAN;;;AAAVC,2B;;AAKC,2BAAMA,OAAO,CAACC,OAAR,EAAN;;;;;;;;;;;;AACR;AACD;;AApKsC;AAAA;AAAA,sCAqK3B;AAAA;;AACT,cAAG,KAAKrE,cAAL,CAAoBsE,MAApB,IAA8B,KAAjC,EACA;AACE,iBAAKtE,cAAL,CAAoBuE,iBAApB;AACD,WAHD,MAII;AACF,iBAAKzE,kBAAL,CAAwB0E,cAAxB,CAAuC,QAAvC,EAAgD,SAAhD,EAA2D5C,IAA3D,CAAgE,UAAC6C,GAAD,EAAS;AACvE,kBAAIA,GAAG,KAAK,SAAZ,EAAuB;AACrB,sBAAI,CAAC9E,MAAL,CAAYoB,aAAZ,CAA0B,gDAA8C,MAAI,CAACC,SAAnD,GAA6D,GAA7D,GAAiE,MAAI,CAACQ,OAAhG,EADqB,CAErB;;AACD;AACD,aALF;AAMD;AACA;AACA;;AAnLmC;AAAA;AAAA,mCAoL3BA,OApL2B,EAoLpB;AAEhB,cAAG,KAAKxB,cAAL,CAAoBsE,MAApB,IAA8B,KAAjC,EACA;AACE,iBAAKtE,cAAL,CAAoBuE,iBAApB;AACD,WAHD,MAII;AACF,iBAAKzE,kBAAL,CAAwB4E,kBAAxB,CAA2ClD,OAA3C;AACA,iBAAKmD,YAAL,CAAkBpC,KAAlB;AACD;AACF;AA9LqC;AAAA;AAAA,uCA+LxB;AACV,cAAG,KAAKvC,cAAL,CAAoBsE,MAApB,IAA8B,KAAjC,EACA;AACE,iBAAKtE,cAAL,CAAoBuE,iBAApB;AACD,WAHD,MAII;AACJ,iBAAK5E,MAAL,CAAYoB,aAAZ,CAA0B,qCAAmC,KAAKC,SAAlE;AACC;AACF,SAvMmC,CAwMpC;;AAxMoC;AAAA;AAAA,gCAyM5B4D,IAzM4B,EAyMjB;AAEjB,iBAAO,KAAKlF,GAAL,CAASmF,8BAAT,CAAwC,4BAA0BD,IAAlE,CAAP;AACD,SA5MmC,CA6MpC;;AA7MoC;AAAA;AAAA,0CA8MZ1C,eA9MY,EA8MK;;;;;;;;AACzB,2BAAM,KAAKrC,eAAL,CAAqBoE,MAArB,CAA4B;AAC9CpF,+BAAS,EAAE,+IADmC;AAE9CiG,oCAAc,EAAE;AACdC,oCAAY,EAAE,KAAK7C,eADL;AAEd8C,8CAAsB,EAAC,KAAK/C,SAAL,CAAegD;AAFxB;AAF8B,qBAA5B,CAAN;;;AAARC,yB;;AAOC,2BAAMA,KAAK,CAACb,OAAN,EAAN;;;;;;;;;;;;AACR;AAvNmC;AAAA;AAAA,iDAwNLnC,eAxNK,EAwNY;;;;;;;;AAChC,2BAAM,KAAKrC,eAAL,CAAqBoE,MAArB,CAA4B;AAC9CpF,+BAAS,EAAE,+IADmC;AAE9CiG,oCAAc,EAAE;AACdC,oCAAY,EAAE,KAAK5C,OAAL,CAAaD,eAAb;AADA;AAF8B,qBAA5B,CAAN;;;AAARgD,yB;;AAMC,2BAAMA,KAAK,CAACb,OAAN,EAAN;;;;;;;;;;;;AACR;AAhOmC;;AAAA;AAAA,OAAtC;;;;cAS6B;;cAA0B;;cAA4B;;cAA+B;;cAA+B;;cAA0B;;cAA4B;;cAA+B;;cAAuC;;cAA6C;;cAAmC;;cAA+B;;;;AAT/WjF,6BAAyB,6DALrC,gEAAU;AACT+F,cAAQ,EAAE,6BADD;AAETC,cAAQ,EAAR;AAAA;AAAA,oIAFS;;;;AAAA,KAAV,CAKqC,GAAzBhG,yBAAyB,CAAzB","file":"pages-session-assignment-view-session-assignment-view-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <app-session-header></app-session-header>\\n  <ion-segment [(ngModel)]=\\\"segmentModel\\\" (ionChange)=\\\"segmentChanged($event)\\\">\\n    <ion-segment-button  class=\\\"{{isactivevideoorvoice}}\\\" value=\\\"conferencing\\\" >\\n      <ion-label>Conferencing</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button class=\\\"{{isactiveassignment}}\\\" value=\\\"assignment\\\">\\n      <ion-label>Assignment</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-refresher slot='fixed' (ionRefresh)='UpdateData($event)'>\\n    <ion-refresher-content></ion-refresher-content>\\n    </ion-refresher>\\n  <div *ngIf=\\\"segmentModel === 'conferencing'\\\">\\n    <ion-col>\\n    <div style=\\\"text-align: center;\\\">No Conference Call</div>\\n    </ion-col>\\n  </div>    \\n    <div *ngIf=\\\"segmentModel === 'assignment'\\\">\\n      <div class=\\\"thirdcontent\\\" >\\n        \\n        <div class=\\\"box\\\" *ngIf=\\\"asgmtlist&&this.sessionstatus!==this.sessionstatusended\\\">\\n          <ion-label>\\n            [{{asgmtlist.created_By_Username}}-{{asgmtlist.created_By_Level}}]  {{asgmtlist.asgmt_Title}} \\n        </ion-label>\\n        <ion-icon style=\\\"position: absolute;right:1em;zoom:1.3\\\" button src=\\\"assets/images/1001-cross.svg\\\" (click)=\\\"PreviousPage()\\\" ></ion-icon>\\n        <br/>\\n      </div>\\n      <div class=\\\"boxSessionEnd\\\" *ngIf=\\\"asgmtlist&&this.sessionstatus===this.sessionstatusended\\\"> \\n        <ion-label>\\n          [{{asgmtlist.created_By_Username}}-{{asgmtlist.created_By_Level}}]  {{asgmtlist.asgmt_Title}} \\n      </ion-label>\\n      <ion-icon style=\\\"position: absolute;right:1em;zoom:1.3\\\" button src=\\\"assets/images/1001-cross.svg\\\" (click)=\\\"PreviousPage()\\\" ></ion-icon>\\n      <br/>\\n    </div>\\n\\n      <div class=\\\"center\\\">\\n        <ion-card *ngIf=\\\"asgmtlist\\\">\\n          <b style=\\\"font-size: x-large;color:black\\\">Question</b>\\n          <ion-item>\\n            <ion-img *ngIf=\\\"asgmtlist.asgmt_Data==null\\\" ionImgViewer style=\\\"width:10em;height:10em;\\\"  src=\\\"assets/images/noimage.png\\\"></ion-img>\\n            <img (click)=\\\"presentModalImage(imgdisplayinapp)\\\" *ngIf=\\\"asgmtlist.asgmt_Data!=null\\\" style=\\\"width:10em;height:10em;\\\"  [src]=\\\"imgdisplayinapp\\\">\\n            <ion-button *ngIf=\\\"asgmtlist.created_By===this.studentid&&this.sessionstatus!==this.sessionstatusended\\\" slot=\\\"end\\\" style=\\\"font-size: larger;color:white;\\\" (click)=\\\"EditDrawing()\\\">Edit</ion-button>\\n          </ion-item>\\n            <ion-card-content style=\\\"font-size: large;color:black;padding: 0em;\\\">\\n           {{asgmtlist.asgmt_Value}}\\n          </ion-card-content>\\n        </ion-card>\\n        <ion-card>\\n          <b style=\\\"font-size: x-large;color:black\\\">Discussion</b>\\n        <div class=\\\"scrolling-wrapper\\\">\\n          <div *ngFor=\\\"let asgmtlist of asgmtdiscusslist\\\"  class=\\\"card\\\"><h2>\\n            <ion-label style=\\\"font-size: medium;\\\">{{asgmtlist.created_On | date:'medium'}}</ion-label><br/>\\n            <img style=\\\"width:10em;height:10em\\\" (click)=\\\"presentModalDiscussImage(asgmtlist.asgmtDiscuss_Data)\\\" *ngIf=\\\"asgmtlist.asgmtDiscuss_Data!=null\\\" [src]=\\\"this.display(asgmtlist.asgmtDiscuss_Data)\\\"><br/>\\n            <ion-label style=\\\"font-size: medium;\\\" *ngIf=\\\"asgmtlist.created_By_Username!=null\\\">Commented By: <b>{{asgmtlist.created_By_Username}} ({{asgmtlist.created_By_Level}})</b></ion-label><br/>\\n            <ion-label style=\\\"font-size: medium;\\\" *ngIf=\\\"asgmtlist.created_By_Username==null\\\">Commented By: <b>{{tutornamefordisplay}}</b></ion-label><br/>\\n          </h2>\\n        </div>\\n        </div>\\n        </ion-card>\\n        </div>\\n  </div>\\n  <!-- </div> -->\\n</div>\\n</ion-content>\\n<ion-footer>\\n   <ion-fab-button *ngIf=\\\"segmentModel === 'assignment'&&asgmtlist\\\" (click)=\\\"StayonPage(asgmtlist.asgmt_Id)\\\"  vertical=\\\"end\\\" horizontal=\\\"end\\\" style=\\\"position: absolute;bottom: 1em;right: 1em;\\\"><img style=\\\"width:3em;height:3em;\\\" src=\\\"assets/images/chat-1.svg\\\"></ion-fab-button> \\n</ion-footer>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SessionAssignmentViewPage } from './session-assignment-view.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SessionAssignmentViewPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SessionAssignmentViewPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SessionAssignmentViewPageRoutingModule } from './session-assignment-view-routing.module';\nimport { SessionAssignmentViewPage } from './session-assignment-view.page';\nimport {ComponentsModule} from '../../components.module';\nimport { NgxIonicImageViewerModule } from 'ngx-ionic-image-viewer';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SessionAssignmentViewPageRoutingModule,\n    NgxIonicImageViewerModule,\n    ComponentsModule\n  ],\n  declarations: [SessionAssignmentViewPage]\n})\nexport class SessionAssignmentViewPageModule {}\n","export default \".center {\\n  text-align: center;\\n}\\n\\n.scrolling-wrapper {\\n  overflow-x: scroll;\\n  overflow-y: hidden;\\n  white-space: nowrap;\\n}\\n\\n.scrolling-wrapper .card {\\n  display: inline-block;\\n}\\n\\nion-item {\\n  border: none;\\n  padding: 0em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2Vzc2lvbi1hc3NpZ25tZW50LXZpZXcvQzpcXHdvcmtpbmdcXE5ZUF9Qcm9qXFxpb25pY19wcm9qZWN0XFxGU1BfU0xQX0FQUEFJL3NyY1xcYXBwXFxwYWdlc1xcc2Vzc2lvbi1hc3NpZ25tZW50LXZpZXdcXHNlc3Npb24tYXNzaWdubWVudC12aWV3LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvc2Vzc2lvbi1hc3NpZ25tZW50LXZpZXcvc2Vzc2lvbi1hc3NpZ25tZW50LXZpZXcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7QUNDSjs7QURDRTtFQUNFLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQ0VKOztBREFJO0VBQ0UscUJBQUE7QUNFTjs7QURDRTtFQUNFLFlBQUE7RUFDQSxZQUFBO0FDRUoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zZXNzaW9uLWFzc2lnbm1lbnQtdmlldy9zZXNzaW9uLWFzc2lnbm1lbnQtdmlldy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2VudGVye1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuICAuc2Nyb2xsaW5nLXdyYXBwZXIge1xuICAgIG92ZXJmbG93LXg6IHNjcm9sbDtcbiAgICBvdmVyZmxvdy15OiBoaWRkZW47XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgXG4gICAgLmNhcmQge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIH1cbiAgfVxuICBpb24taXRlbSB7XG4gICAgYm9yZGVyOm5vbmU7XG4gICAgcGFkZGluZzogMGVtO1xuICB9IiwiLmNlbnRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnNjcm9sbGluZy13cmFwcGVyIHtcbiAgb3ZlcmZsb3cteDogc2Nyb2xsO1xuICBvdmVyZmxvdy15OiBoaWRkZW47XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG4uc2Nyb2xsaW5nLXdyYXBwZXIgLmNhcmQge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbmlvbi1pdGVtIHtcbiAgYm9yZGVyOiBub25lO1xuICBwYWRkaW5nOiAwZW07XG59Il19 */\";","import { Component, OnInit, NgZone } from '@angular/core';\nimport { ActivatedRoute,Router } from '@angular/router';\nimport { AssignmentsService } from '../../services/assignments.service';\nimport { ModalController, Platform } from '@ionic/angular';\nimport { SessionAssignmentChatPage } from '../../pages/session-assignment-chat/session-assignment-chat.page';\nimport { Storage } from '@ionic/storage';\nimport {NetworkService} from '../../services/network.service';\nimport {apiurl, SessionStatus} from '../../model/global-api';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { GlobalService} from '../../services/global.service';\nimport { SessionViewImageDiscussionPage } from '../shared-module/session-view-image-discussion/session-view-image-discussion.page';\nimport { SessionMyPage } from '../session-my/session-my.page';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport { TestBed } from '@angular/core/testing';\n@Component({\n  selector: 'app-session-assignment-view',\n  templateUrl: './session-assignment-view.page.html',\n  styleUrls: ['./session-assignment-view.page.scss'],\n})\nexport class SessionAssignmentViewPage implements OnInit {\n  textdisplay: any;\n  assignlist: any;\n  ChangeDetectorRef: any;\n  test: any;\n  test2: any;\n  refreshvalue: boolean = false;\n  test3: any;\n\n  constructor(private ngZone:NgZone,private nativeHttp:HTTP,private globalService: GlobalService,private platform:Platform,private sessionmypage:SessionMyPage ,public dms:DomSanitizer,private router:Router,private activatedRoute: ActivatedRoute,private modalController:ModalController, private assignmentsService: AssignmentsService,private storage:Storage,private networkService:NetworkService) { }\n\n  //Segment\n  segmentModel = \"assignment\";isactiveassignment:string; isactivevideoorvoice:string;asgmtid:any;sessionid:any;\n //User Info\n token:any;studentid:any;tutornamefordisplay:any;\n  asgmtlist:any;sessionstatusended:any;sessionstatus:any;imgdisplayinapp:any;asgmtdiscusslist:any;discussimgdisplayinapp:any;\n  ngOnInit() { \n    //Segment\n    console.log('this.router.url','this.rout')\n  this.isactiveassignment=\"activesegment\";\n  }\n\n\n  ionViewWillEnter()\n  {\n    this.token=this.globalService.getselectedtoken()\n    this.studentid=this.globalService.getselectedStudentId()\n    this.getAssignmentList();\n    this.tutornamefordisplay=this.assignmentsService.getselectedtutorname()\n\n  }\n  ionViewDidEnter(){\n\n    this.platform.backButton.subscribeWithPriority(10, () => {\n      this.router.navigateByUrl('tabs/session-view/session-view/'+this.sessionid)\n    });\n  }\n\n/*Get AssignmentList*/\n\n\n\ngetAssignmentList(){\n  this.sessionstatusended = SessionStatus.SESSION_STATUS_ENDED;\n   // Get the ID that was passed with the URL\n   this.activatedRoute.paramMap.subscribe(params => {\n     let id = params.getAll('id')\n     this.sessionid=id;\n   })\n  this.activatedRoute.paramMap.subscribe(params => {\n    let asgmtid = params.getAll('asgmtid')\n    this.asgmtid=asgmtid;\n  })\n\n  this.sessionstatus=this.assignmentsService.getselectedsessionstatus();\n  this.storage.get('assignmentdetails').then((val) => {\n      val.forEach((valor) => {\n      if(this.asgmtid==valor.asgmt_Id)\n      {\n        this.asgmtlist=valor;\n        this.imgdisplayinapp=this.display(valor.asgmt_Data)\n        this.asgmtdiscusslist=this.asgmtlist.assignmentDiscussions;\n\n      }\n    })\n  });\n\n}\n\n\n\nasync UpdateData(event)\n{\n  this.sessionstatusended = SessionStatus.SESSION_STATUS_ENDED;\n\n\n  this.token=this.globalService.getselectedtoken()\n  this.studentid=this.globalService.getselectedStudentId()\n  this.sessionstatus=this.assignmentsService.getselectedsessionstatus();\n\n  let header =  {'Accept': 'application/json','Content-Type': 'application/json' }\n  let fetchinfo = {\"Authentication_Token\":this.token, \"Student_Id\":this.studentid, \"inDepth\": \"Y\"}\n  this.nativeHttp.setDataSerializer('json');\n  this.nativeHttp.post(apiurl.apiUrl+'session/mySessions', fetchinfo,header).then( response => {\n   try {\n     response.data = JSON.parse(response.data);//whole asgmtlist of particular session ,returns a promise\n     this.storage.set('AssignmentDiscussion',response.data).then(val =>{\n      this.storage.get('AssignmentDiscussion').then((val) =>\n      {\n        // console.log('storage get',this.storage.get('AssignmentDiscussion'))\n        val.forEach((valor) => \n        {\n            this.test = valor.assignments;\n            this.test.forEach(valor2 => \n          {\n              this.test2 = valor2.asgmt_Id;\n            if(this.asgmtid==this.test2)\n            {\n              this.test = valor2.assignmentDiscussions;\n              this.test3 = valor2 \n              console.log('this is the apilist' , this.test.created_On)\n\n              this.imgdisplayinapp=this.display(this.test3.asgmt_Data)\n              this.asgmtdiscusslist=this.test;\n            }\n          });\n        })\n      })\n    event.target.complete();    \n    })\n } \n catch(e) {\n  console.error('JSON parsing error');\n  this.assignmentsService.presentError()\n  setTimeout(() => {\n   event.target.complete()\n   this.router.navigateByUrl('tabs/main');  \n\n }, 3000); \n}\n\n}).catch(response => {\n  // prints 403\n  console.log(response.status, ' errorsss');\n  // prints Permission denied\n  console.log(response.error, ' error');\n  this.assignmentsService.presentError()\n  setTimeout(() => {\n   event.target.complete()\n   this.router.navigateByUrl('tabs/main');  \n\n }, 3000);\n  });\n\n}\n\n  // refreshing(){\n  //   this.ngZone.run(() => {\n  //     this.refreshvalue = true;\n  //   })\n  // }\n\n\n  /*Segment */\n segmentChanged(event) {\n   if(this.segmentModel!=\"assignment\")\n   {\n   this.isactiveassignment=\"inactivesegment\";\n   this.isactivevideoorvoice=\"activesegment\";\n   }\n   else if (this.segmentModel==\"assignment\"){\n     this.isactiveassignment=\"activesegment\";\n     this.isactivevideoorvoice=\"inactivesegment\";\n   }\n }\n/*Chat Pop up*/\nasync presentModal(ev: any) {\n  const popover = await this.modalController.create({\n    component: SessionAssignmentChatPage,\n    cssClass: 'small-modal',\n    backdropDismiss: true\n  });\n  return await popover.present();\n}\n/*Edit Drawing*/\nEditDrawing(){\n  if(this.networkService.online == false )\n  {\n    this.networkService.presentNetworkMsg(); \n  }\n  else{\n    this.assignmentsService.presentDrawing('Cancel','Confirm').then((res) => {\n      if (res === 'Confirm') {\n        this.router.navigateByUrl('/tabs/session-view/session-assignment-edit/'+this.sessionid+'/'+this.asgmtid);   \n        //Drawing Page\n      }\n     });\n  }\n  }\n   /*Open Chat*/\nStayonPage(asgmtid)\n{\n  if(this.networkService.online == false )\n  {\n    this.networkService.presentNetworkMsg(); \n  }\n  else{\n    this.assignmentsService.setselectedasgmtid(asgmtid);\n    this.presentModal(event);\n  }\n}\n  PreviousPage(){\n    if(this.networkService.online == false )\n    {\n      this.networkService.presentNetworkMsg(); \n    }\n    else{\n    this.router.navigateByUrl('/tabs/session-view/session-view/'+this.sessionid);\n    }  \n  }\n  //Image Sanitize\n  display(bImg:string)\n  {\n    return this.dms.bypassSecurityTrustResourceUrl(\"data:image/png;base64, \"+bImg)\n  }\n  //Display Image \n  async presentModalImage(imgdisplayinapp) {\n    const modal = await this.modalController.create({\n      component: SessionViewImageDiscussionPage,\n      componentProps: { \n        imagedisplay: this.imgdisplayinapp,\n        discussimgdisplayinapp:this.asgmtlist.asgmtDiscuss_Data\n      }\n    });\n    return await modal.present();\n  }\n  async presentModalDiscussImage(imgdisplayinapp) {\n    const modal = await this.modalController.create({\n      component: SessionViewImageDiscussionPage,\n      componentProps: { \n        imagedisplay: this.display(imgdisplayinapp),\n      }\n    });\n    return await modal.present();\n  }\n  \n}\n"]}