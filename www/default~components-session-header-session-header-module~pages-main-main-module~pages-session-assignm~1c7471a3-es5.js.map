{"version":3,"sources":["webpack:///src/app/pages/shared-module/popover-participant-invite/popover-participant-invite.page.html","webpack:///src/app/pages/shared-module/popover-participant-invite/popover-participant-invite.page.scss","webpack:///src/app/pages/shared-module/popover-participant-invite/popover-participant-invite.page.ts"],"names":["PopoverParticipantInvitePage","globalService","nativeHttp","router","assignmentsService","storage","popoverController","data","searchParticipant","countaddedparticipant","displayaddedparticipants","token","getselectedtoken","studentid","getselectedStudentId","CallAPISearchStudentsToInvite","sessionid","getselectedsessionid","setDataSerializer","post","apiUrl","then","response","console","log","JSON","parse","textdisplayparticipant","e","error","presentError","setTimeout","closePopover","navigateByUrl","status","dismiss","participant","toBeInvited","invitedfriends","push","stringify","presentLoading","set","assignments","dismissLoading","selector","template"],"mappings":"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","file":"default~components-session-header-session-header-module~pages-main-main-module~pages-session-assignm~1c7471a3-es5.js","sourcesContent":["export default \"<ion-header>\\n  <h2 class=\\\"title\\\" style=\\\"font-size: large;padding:2%;\\\"><b>Invite Friends</b><ion-icon style=\\\"float: right;\\\" src=\\\"assets/images/pop-up-cross.svg\\\" (click)=\\\"closePopover()\\\"></ion-icon> </h2>\\n</ion-header>\\n<div style=\\\"display: flex; justify-content: center;align-items: center;padding:2%\\\">{{displayaddedparticipants}}</div>\\n<div style=\\\"display: flex; justify-content: center;align-items: center;\\\"><button class=\\\"popoverinvitebutton\\\" (click)=\\\"invitefriends()\\\"><b>Invite Friend</b></button></div>\\n<ion-content>\\n  \\n  <h2 class=\\\"title\\\"><ion-searchbar [(ngModel)]=\\\"searchParticipant\\\" animated=\\\"true\\\"></ion-searchbar></h2>\\n   <div class=\\\"container\\\" *ngFor=\\\"let participant of textdisplayparticipant| filter:searchParticipant\\\">\\n      <div class=\\\"popovercss\\\" *ngIf=\\\"participant.toBeInvited==='N'\\\">\\n       ({{participant.levelInfo_DisplayName}}) <b>{{participant.username}}</b><label (click) = \\\"AddParticipant(participant)\\\" *ngIf=\\\"participant.toBeInvited==='N'\\\" class=\\\"popoveraddlabel\\\">Add</label>\\n      </div> \\n    </div>\\n</ion-content>\\n\\n\\n\";","export default \".container {\\n  padding: 0 4% 0 4%;\\n}\\n\\nion-toolbar {\\n  --min-height:0px!important;\\n}\\n\\n.popoverinvitebutton {\\n  border: solid 0.1em black;\\n  color: white;\\n  background-color: #1c91a8;\\n  display: block;\\n  margin: 0 auto;\\n  text-align: center;\\n  padding: 0.5em;\\n}\\n\\n.popoveraddlabel {\\n  color: black;\\n  float: right;\\n  padding: 0.1em;\\n}\\n\\n.popovercss {\\n  border: solid #000000;\\n  background-color: white;\\n  margin-bottom: 0.5em;\\n  padding: 0.3em;\\n}\\n\\n.popoveraddbutton {\\n  border: solid 0.1em black;\\n  color: white;\\n  background-color: #1c91a8;\\n  float: right;\\n  padding: 0.1em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2hhcmVkLW1vZHVsZS9wb3BvdmVyLXBhcnRpY2lwYW50LWludml0ZS9DOlxcd29ya2luZ1xcTllQX1Byb2pcXGlvbmljX3Byb2plY3RcXEZTUF9TTFBfQVBQQUkvc3JjXFxhcHBcXHBhZ2VzXFxzaGFyZWQtbW9kdWxlXFxwb3BvdmVyLXBhcnRpY2lwYW50LWludml0ZVxccG9wb3Zlci1wYXJ0aWNpcGFudC1pbnZpdGUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zaGFyZWQtbW9kdWxlL3BvcG92ZXItcGFydGljaXBhbnQtaW52aXRlL3BvcG92ZXItcGFydGljaXBhbnQtaW52aXRlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FDQ0Y7O0FEQ0U7RUFDRSwwQkFBQTtBQ0VKOztBREFFO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxjQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtBQ0dKOztBRERBO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FDSUY7O0FERkE7RUFDRSxxQkFBQTtFQUNBLHVCQUFBO0VBQ0Esb0JBQUE7RUFDQSxjQUFBO0FDS0Y7O0FESEE7RUFDRSx5QkFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FDTUYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zaGFyZWQtbW9kdWxlL3BvcG92ZXItcGFydGljaXBhbnQtaW52aXRlL3BvcG92ZXItcGFydGljaXBhbnQtaW52aXRlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXJ7XG4gIHBhZGRpbmc6IDAgNCUgMCA0JTtcbn1cbiAgaW9uLXRvb2xiYXJ7XG4gICAgLS1taW4taGVpZ2h0OjBweCFpbXBvcnRhbnQ7XG4gIH1cbiAgLnBvcG92ZXJpbnZpdGVidXR0b257XG4gICAgYm9yZGVyOnNvbGlkIDAuMWVtIGJsYWNrO1xuICAgIGNvbG9yOndoaXRlO1xuICAgIGJhY2tncm91bmQtY29sb3I6IzFjOTFhODtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMC41ZW07XG4gIH1cbi5wb3BvdmVyYWRkbGFiZWx7XG4gIGNvbG9yOmJsYWNrO1xuICBmbG9hdDogcmlnaHQ7XG4gIHBhZGRpbmc6MC4xZW07XG59XG4ucG9wb3ZlcmNzc3tcbiAgYm9yZGVyOnNvbGlkICMwMDAwMDA7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBtYXJnaW4tYm90dG9tOjAuNWVtO1xuICBwYWRkaW5nOjAuM2VtO1xufVxuLnBvcG92ZXJhZGRidXR0b257XG4gIGJvcmRlcjpzb2xpZCAwLjFlbSBibGFjaztcbiAgY29sb3I6d2hpdGU7XG4gIGJhY2tncm91bmQtY29sb3I6IzFjOTFhODtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nOjAuMWVtO1xufSIsIi5jb250YWluZXIge1xuICBwYWRkaW5nOiAwIDQlIDAgNCU7XG59XG5cbmlvbi10b29sYmFyIHtcbiAgLS1taW4taGVpZ2h0OjBweCFpbXBvcnRhbnQ7XG59XG5cbi5wb3BvdmVyaW52aXRlYnV0dG9uIHtcbiAgYm9yZGVyOiBzb2xpZCAwLjFlbSBibGFjaztcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWM5MWE4O1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogMC41ZW07XG59XG5cbi5wb3BvdmVyYWRkbGFiZWwge1xuICBjb2xvcjogYmxhY2s7XG4gIGZsb2F0OiByaWdodDtcbiAgcGFkZGluZzogMC4xZW07XG59XG5cbi5wb3BvdmVyY3NzIHtcbiAgYm9yZGVyOiBzb2xpZCAjMDAwMDAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgbWFyZ2luLWJvdHRvbTogMC41ZW07XG4gIHBhZGRpbmc6IDAuM2VtO1xufVxuXG4ucG9wb3ZlcmFkZGJ1dHRvbiB7XG4gIGJvcmRlcjogc29saWQgMC4xZW0gYmxhY2s7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFjOTFhODtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nOiAwLjFlbTtcbn0iXX0= */\";","import { Component, OnInit,ViewChild } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport {PopoverController,IonInfiniteScroll } from '@ionic/angular';\nimport { AssignmentsService } from '../../../services/assignments.service';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport {apiurl} from '../../../model/global-api';\nimport {  GlobalService} from '../../../services/global.service';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-popover-participant-invite',\n  templateUrl: './popover-participant-invite.page.html',\n  styleUrls: ['./popover-participant-invite.page.scss'],\n})\nexport class PopoverParticipantInvitePage implements OnInit {\n  countaddedparticipant: number;  data = []; sessionid:any;searchParticipant=\"\";\n  textdisplayparticipant:any;displayaddedparticipants:any;invitedfriends:any;\n//UserInfo\ntoken:any;studentid:any;\n  constructor(private globalService: GlobalService,private nativeHttp:HTTP,private router:Router,private assignmentsService: AssignmentsService,private storage:Storage,private popoverController:PopoverController ) {\n    this.countaddedparticipant = 0;\n    this.displayaddedparticipants=this.countaddedparticipant+\" Student(s) added\";\n   }\n  \n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n\n  ngOnInit() {}\n  ionViewWillEnter(){\n    this.token=this.globalService.getselectedtoken()\n  this.studentid=this.globalService.getselectedStudentId()\n    this.CallAPISearchStudentsToInvite();\n  }\n  /*Get Search Students to Invite*/\nCallAPISearchStudentsToInvite()\n{\n  this.sessionid=this.assignmentsService.getselectedsessionid();\n this.nativeHttp.setDataSerializer('json');\n  this.nativeHttp.post(apiurl.apiUrl+'session/searchStudents2Invite', {\n    \"Authentication_Token\":this.token, //Get from storage \n   \"Student_Id\":this.studentid,\n  \"Session_Id\":this.sessionid,\n}, {\n 'Accept': 'application/json',\n 'Content-Type': 'application/json' })\n .then(response => {\n   try {\n    console.log('this is response data',response)\n     response.data = JSON.parse(response.data);\n     this.textdisplayparticipant=response.data;\n   } catch(e) {\n     console.error('JSON parsing error plaese be patient');\n     this.assignmentsService.presentError()\n     setTimeout(() => {\n       this.closePopover();\n       this.router.navigateByUrl('tabs/main'); \n    \n   \n     }, 3000);   \n    }\n})\n.catch(response => {\n  // prints 403\n  console.log(response.status);\n\n  // prints Permission denied\n  console.log(response.error);\n  this.assignmentsService.presentError()\n  setTimeout(() => {\n    this.closePopover();\n    this.router.navigateByUrl('tabs/main'); \n \n\n  }, 3000);  \n});\n}\n  closePopover(){\n    this.popoverController.dismiss();\n  }\n  AddParticipant(participant){\n    this.countaddedparticipant++;\n    this.displayaddedparticipants=this.countaddedparticipant+\" Student(s) added\";\n    participant.toBeInvited = participant.toBeInvited == 'N' ? 'Y' : 'N';\n    this.invitedfriends=participant;\n    this.data.push(this.invitedfriends);\n  }\n \n  invitefriends(){\n    //console.log(this.data)-->Add more than  a student at a time\n    this.nativeHttp.setDataSerializer('json');\n    this.nativeHttp.post(apiurl.apiUrl+'session/participant_invite', {\n      \"Authentication_Token\":this.token, //Get from storage \n    \"Owner_Id\":this.studentid,\n    \"Session_Id\": this.sessionid,\n    \"StudentList\":JSON.stringify(this.data)\n }, {\n   'Accept': 'application/json',\n   'Content-Type': 'application/json' })\n   .then(response => {\n    this.assignmentsService.presentLoading()\n     try {\n       response.data = JSON.parse(response.data);\n       //console.log(response.data)\n      this.storage.set('mysession', response.data); \n       this.storage.set('assignmentdetails',response.data.assignments);\n       this.assignmentsService.dismissLoading()\n       this.popoverController.dismiss();\n     } catch(e) {\n       console.error('JSON parsing error');\n       this.assignmentsService.presentError()\n       setTimeout(() => {\n         this.closePopover();\n         this.assignmentsService.dismissLoading()\n         this.router.navigateByUrl('tabs/main'); \n      \n     \n       }, 3000);  \n} \n  })\n  .catch(response => {\n    // prints 403\n   console.log(response.status);\n    // prints Permission denied\n   console.log(response.error);\n   this.assignmentsService.presentError()\n   setTimeout(() => {\n     this.closePopover();\n     this.assignmentsService.dismissLoading()\n     this.router.navigateByUrl('tabs/main'); \n  \n \n   }, 3000); \n  });\n  }\n  }"]}