{"version":3,"sources":["./src/app/pages/session-assignment-chat/session-assignment-chat.page.html","./src/app/pages/session-assignment-chat/session-assignment-chat.page.scss","./src/app/pages/session-assignment-chat/session-assignment-chat.page.ts","./src/app/services/chat.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,sJAAuF,yBAAyB,6CAA6C,YAAY,uBAAuB,iFAAiF,kBAAkB,QAAQ,wLAAwL,yBAAyB,+CAA+C,cAAc,uBAAuB,iFAAiF,kBAAkB,QAAQ,6TAA6T,sBAAsB,MAAM,yBAAyB,uBAAuB,iBAAiB,sEAAsE,gCAAgC,4LAA4L,sBAAsB,MAAM,yBAAyB,yBAAyB,iBAAiB,0EAA0E,gCAAgC,mDAAmD,iBAAiB,qkBAAqkB,YAAY,oOAAoO,mBAAmB,iFAAiF,2BAA2B,0UAA0U,oJAAoJ,E;;;;;;;;;;;;ACAriG;AAAe,0EAAW,iBAAiB,uBAAuB,uBAAuB,0BAA0B,GAAG,oBAAoB,wBAAwB,mBAAmB,GAAG,iBAAiB,wBAAwB,mBAAmB,GAAG,WAAW,mBAAmB,iBAAiB,qBAAqB,GAAG,oBAAoB,gBAAgB,gDAAgD,uBAAuB,iBAAiB,sBAAsB,uBAAuB,GAAG,6CAA6C,+jEAA+jE,E;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA3hF;AACV;AACmB;AACnB;AACa;AACN;AACV;AAC0B;AACZ;AACnB;AACqB;AAM9D,IAAa,yBAAyB,GAAtC,MAAa,yBAAyB;IACpC,YAAoB,aAA4B,EAAS,UAAe,EAAS,OAAe,EAAS,kBAAsC,EAAS,cAA8B,EAAS,WAAwB,EAAU,eAA+B,EAAS,cAA6B,EAAS,WAAuB;QAAlT,kBAAa,GAAb,aAAa,CAAe;QAAS,eAAU,GAAV,UAAU,CAAK;QAAS,YAAO,GAAP,OAAO,CAAQ;QAAS,uBAAkB,GAAlB,kBAAkB,CAAoB;QAAS,mBAAc,GAAd,cAAc,CAAgB;QAAS,gBAAW,GAAX,WAAW,CAAa;QAAU,oBAAe,GAAf,eAAe,CAAgB;QAAS,mBAAc,GAAd,cAAc,CAAe;QAAS,gBAAW,GAAX,WAAW,CAAY;QACpU,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC,KAAK,CAAC;YACtC,aAAa,EAAE,CAAC,EAAE,CAAC;YACnB,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;SACtC,CAAC,CAAC;IACH,CAAC;IAWD,QAAQ;QACN,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC;QACnC,IAAI,CAAC,aAAa,GAAC,UAAU,CAAC;IAChC,CAAC;IACD,gBAAgB;QACd,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,EAAC,WAAW;QAC5D,IAAI,CAAC,SAAS,GAAC,IAAI,CAAC,aAAa,CAAC,oBAAoB,EAAE,aAAW;QACnE,IAAI,CAAC,kBAAkB,GAAC,+DAAa,CAAC,oBAAoB,CAAC;QAC3D,IAAI,CAAC,2BAA2B,EAAE,CAAC,gBAAe;QAClD,IAAI,CAAC,sBAAsB,EAAE,CAAC,iCAAgC;QAC9D,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC,kBAAkB,CAAC,wBAAwB,EAAE,CAAC,qBAAoB;QAC3F,UAAU,CAAC,GAAG,EAAE;YACb,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QACrC,CAAC,EAAE,IAAI,CAAC,CAAC;IAEX,CAAC;IACG,YAAY;IACZ,YAAY;QACV,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;IACjC,CAAC;IACD,8BAA8B;IAC9B,aAAa,CAAC,eAAe;QAC3B,IAAI,CAAC,gBAAgB,GAAG,eAAe,CAAC;QACxC,IAAI,CAAC,aAAa,GAAG,eAAe,CAAC;QACtC,kCAAkC;IAClC,CAAC;IACF,WAAW;QACT,IAAG,IAAI,CAAC,cAAc,CAAC,MAAM,IAAI,KAAK,EACtC;YACE,IAAI,CAAC,cAAc,CAAC,iBAAiB,EAAE,CAAC;SACzC;aACG;YACJ,IAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAC5B;gBACE,aAAa;gBACd,kCAAkC;gBAClC,6BAA6B;gBAC5B,IAAI,CAAC,uBAAuB,EAAE,EAAC,cAAc;gBAC5C,IAAI,CAAC,QAAQ,GAAC,EAAE,CAAC;aACnB;SACA;IACH,CAAC;IACD,eAAe;IAClB,2BAA2B;QAEzB,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,EAAE;QACzD,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;QACzC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,wDAAM,CAAC,MAAM,GAAC,eAAe,EAAE;YACnD,sBAAsB,EAAC,IAAI,CAAC,KAAK;YAClC,UAAU,EAAC,IAAI,CAAC,MAAM;YACtB,SAAS,EAAE,IAAI,CAAC,SAAS;SAC3B,EAAE;YACD,QAAQ,EAAE,kBAAkB;YAC5B,cAAc,EAAE,kBAAkB;SAAE,CAAC;aACpC,IAAI,CAAC,QAAQ,CAAC,EAAE;YACf,IAAI;gBACF,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC1C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC/C,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAC1B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC3C,IAAI,CAAC,YAAY,GAAC,GAAG,CAAC;gBACtB,CAAC,CAAC,CAAC;aACN;YAAC,OAAM,CAAC,EAAE;gBACT,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;gBAC/B,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE;aACvC;QACJ,CAAC,CAAC;aACD,KAAK,CAAC,QAAQ,CAAC,EAAE;YAChB,aAAa;YACd,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAE5B,2BAA2B;YAC5B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;YAC/B,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE;QAEvC,CAAC,CAAC,CAAC;IACH,CAAC;IACC,eAAe;IACf,uBAAuB;QAErB,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,qBAAmB;QAC5E,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;QACzC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,wDAAM,CAAC,MAAM,GAAC,WAAW,EAAE;YACjD,sBAAsB,EAAC,IAAI,CAAC,KAAK;YAChC,UAAU,EAAC,IAAI,CAAC,MAAM;YACtB,QAAQ,EAAC,IAAI,CAAC,SAAS;YACvB,WAAW,EAAC,IAAI,CAAC,aAAa;YAC9B,YAAY,EAAC,IAAI,CAAC,QAAQ;SAC5B,EAAE;YACD,QAAQ,EAAE,kBAAkB;YAC5B,cAAc,EAAE,kBAAkB;SAAE,CAAC;aACpC,IAAI,CAAC,QAAQ,CAAC,EAAE;YACf,IAAI;gBACH,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC1C,sCAAsC;gBACrC,WAAW,CAAC,GAAG,EAAE;oBACf,IAAI,CAAC,2BAA2B,EAAE,CAAC,CAAC,gDAAgD;gBACvF,CAAC,EAAE,GAAG,CAAC,CAAC,gBAAe;gBACvB,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;aAE9B;YAAC,OAAM,CAAC,EAAE;gBACT,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE;aAC3C;QACJ,CAAC,CAAC;aACD,KAAK,CAAC,QAAQ,CAAC,EAAE;YAChB,aAAa;YACd,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAE5B,2BAA2B;YAC5B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE;QAC3C,CAAC,CAAC,CAAC;IACH,CAAC;IACF,gCAAgC;IAC/B,sBAAsB;QACrB,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,EAAC,cAAc;QACvE,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,wDAAM,CAAC,MAAM,GAAC,oBAAoB,EAAE;YAC1D,sBAAsB,EAAC,IAAI,CAAC,KAAK;YAChC,UAAU,EAAC,IAAI,CAAC,MAAM;YACtB,SAAS,EAAE,IAAI,CAAC,SAAS;SAC3B,EAAE;YACD,QAAQ,EAAE,kBAAkB;YAC5B,cAAc,EAAE,kBAAkB;SAAE,CAAC;aACpC,IAAI,CAAC,QAAQ,CAAC,EAAE;YACf,IAAI;gBACF,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC1C,4BAA4B;gBAC5B,IAAI,CAAC,aAAa,GAAC,QAAQ,CAAC,IAAI,CAAC;gBACjC,IAAI,CAAC,eAAe,GAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;aAChD;YAAC,OAAM,CAAC,EAAE;gBACT,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;gBAC/B,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE;aACvC;QACJ,CAAC,CAAC;aACD,KAAK,CAAC,QAAQ,CAAC,EAAE;YAChB,aAAa;YACd,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAE5B,2BAA2B;YAC5B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;YAC/B,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE;QACtC,CAAC,CAAC,CAAC;IACH,CAAC;CACH;;YArKoC,uEAAa;YAAoB,2DAAI;YAAiB,uDAAO;YAA6B,gFAAkB;YAAyB,8DAAc;YAAsB,0DAAW;YAA0B,8DAAe;YAAwB,wEAAc;YAAqB,kEAAW;;AAOhT;IAArB,+DAAS,CAAC,SAAS,CAAC;0DAAc;AARxB,yBAAyB;IALrC,+DAAS,CAAC;QACT,QAAQ,EAAE,6BAA6B;QACvC,6QAAkD;;KAEnD,CAAC;GACW,yBAAyB,CAsKrC;AAtKqC;;;;;;;;;;;;;;;;;;;;;AChBK;AACuC;AACpC;AACL;AAIzC,IAAa,WAAW,GAAxB,MAAa,WAAW;IAExB,YAAoB,UAAe,EAAS,SAA0B,EAAS,eAA+B,EAAQ,iBAAoC,EAAS,OAAe;QAA9J,eAAU,GAAV,UAAU,CAAK;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,oBAAe,GAAf,eAAe,CAAgB;QAAQ,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAS,YAAO,GAAP,OAAO,CAAQ;IAAG,CAAC;IAGpL,gBAAgB;IACZ,uBAAuB,CAAC,IAAI;;YAChC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,MAAM,EAAE,IAAI;gBACZ,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,QAAQ;gBAClB,OAAO,EAAE,CAAC;wBACR,IAAI,EAAE,OAAO;wBACb,IAAI,EAAE,QAAQ;qBACf,CAAC;gBACF,QAAQ,EAAE,UAAU;aACrB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;CAGA;;YAnB8B,2DAAI;YAAoB,8DAAe;YAAyB,8DAAe;YAA2B,gEAAiB;YAAiB,sDAAO;;AAFrK,WAAW;IAHvB,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,WAAW,CAqBvB;AArBuB","file":"default~pages-session-assignment-chat-session-assignment-chat-module~pages-session-assignment-view-s~7063bba7-es2015.js","sourcesContent":["export default \"<ion-header *ngIf=\\\"this.sessionstatus!==this.sessionstatusended\\\" style=\\\"padding:3%;background-color:#274c9c;\\\">\\n  <ion-title style=\\\"text-align: center;color:white;display:inline-flexbox;\\\" ><b>Instant Messaging</b><img (click)=\\\"DismissModal()\\\" style=\\\"width: 1.2em;position:absolute;right:0;\\\" src=\\\"assets/images/criss-cross_grayblue.png\\\"></ion-title>\\n  </ion-header>\\n  <!--Read-->\\n  <ion-header *ngIf=\\\"this.sessionstatus===this.sessionstatusended\\\" style=\\\"padding:3%;background-color:#b2b2b2;\\\">\\n    <ion-title style=\\\"text-align: center;color:#808080;display:inline-flexbox;\\\" ><b>Instant Messaging</b><img (click)=\\\"DismissModal()\\\" style=\\\"width: 1.2em;position:absolute;right:0;\\\" src=\\\"assets/images/criss-cross_grayblue.png\\\"></ion-title>\\n    </ion-header>\\n<ion-content #content overflow-scroll=\\\"true\\\">\\n<div class=\\\"thirdcontent\\\" *ngFor=\\\"let chat of chatIRecived\\\">\\n<ion-row >\\n  <ion-col *ngIf=\\\"chat.sender_Id!=this.studentid\\\" size=\\\"9\\\"  class=\\\"message other-message\\\">\\n    <b>{{chat.sender_Username}} to {{chat.recipient_Username}}:</b><br>\\n    <span>{{chat.chat_Value}}</span>\\n    <div class=\\\"time\\\" text-right><br>\\n      <ion-label> {{chat.created_On| date:'medium'}}</ion-label>\\n    </div>\\n  </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col offset=\\\"3\\\" *ngIf=\\\"chat.sender_Id==this.studentid\\\"  size=\\\"9\\\" class=\\\"message my-message\\\">\\n      <b>{{chat.sender_Username}} to {{chat.recipient_Username}}:</b><br>\\n      <span>{{chat.chat_Value}}</span>\\n      <div class=\\\"time\\\" text-right><br>\\n        <ion-label> {{chat.created_On| date:'medium'}}</ion-label>\\n        <!-- <ion-datetime value=\\\"{{chat.created_On}}\\\" displayFormat=\\\"D MMM YYYY, H:mm\\\" display-timezone=\\\"utc\\\"></ion-datetime>    -->\\n      </div>\\n    </ion-col>\\n    </ion-row>\\n    \\n    \\n</div>\\n</ion-content>\\n<!--No Read-->\\n<ion-footer>\\n<ion-toolbar >\\n  <form [formGroup]=\\\"createchatForm\\\" *ngIf=\\\"this.sessionstatus!==this.sessionstatusended\\\">\\n<ion-row>  \\n  <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n  <ion-text>To:</ion-text>\\n  </ion-col>\\n      <ion-col offset=\\\"-1\\\" size=\\\"5\\\">\\n      <ion-select [(ngModel)]=\\\"recipientname\\\"  formControlName=\\\"recipientname\\\" style=\\\"background-color: #808080;color:black;\\\" #mySelect  (ionChange)=\\\"selectChanged(mySelect.value)\\\">\\n        <ion-select-option><label>Everyone</label></ion-select-option>\\n        <div *ngFor=\\\"let recipient of listRecipient\\\">\\n        <ion-select-option value=\\\"{{recipient.user_Id}}\\\" *ngIf=\\\"recipient.user_Id!=this.studentid&&this.noofparticipant!=1\\\"><label>{{ recipient.user_Username }}</label></ion-select-option>\\n      </div>\\n      </ion-select>\\n    </ion-col>\\n  <ion-col size=\\\"10\\\">\\n  <textarea formControlName=\\\"chattext\\\" autosize maxRows=\\\"4\\\"  [(ngModel)]=\\\"chattext\\\" class=\\\"message-input\\\"></textarea>\\n  </ion-col>\\n  <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n    <img style=\\\"width:2em;\\\" src=\\\"assets/images/user-interface.png\\\" (click)=\\\"SendMessage()\\\"><br/>\\n  </ion-col>\\n</ion-row>\\n</form>\\n</ion-toolbar>\\n</ion-footer>\\n\\n\\n\";","export default \".message {\\n  padding: 1em;\\n  border-radius: 1em;\\n  margin-bottom: 1em;\\n  white-space: pre-wrap;\\n}\\n\\n.other-message {\\n  background: #f0f0a7;\\n  color: #000000;\\n}\\n\\n.my-message {\\n  background: #d9f6ff;\\n  color: #000000;\\n}\\n\\n.time {\\n  color: #808080;\\n  float: right;\\n  font-size: small;\\n}\\n\\n.message-input {\\n  width: 100%;\\n  border: 0.1em solid var(--ion-color-medium);\\n  border-radius: 1em;\\n  resize: none;\\n  padding-left: 1em;\\n  padding-right: 1em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2Vzc2lvbi1hc3NpZ25tZW50LWNoYXQvQzpcXHdvcmtpbmdcXE5ZUF9Qcm9qXFxpb25pY19wcm9qZWN0XFxGU1BfU0xQX0FQUEFJL3NyY1xcYXBwXFxwYWdlc1xcc2Vzc2lvbi1hc3NpZ25tZW50LWNoYXRcXHNlc3Npb24tYXNzaWdubWVudC1jaGF0LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvc2Vzc2lvbi1hc3NpZ25tZW50LWNoYXQvc2Vzc2lvbi1hc3NpZ25tZW50LWNoYXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0MsbUJBQUE7RUFDQSxjQUFBO0FDQ0Q7O0FERUE7RUFDRSxtQkFBQTtFQUNBLGNBQUE7QUNDRjs7QURFQTtFQUNDLGNBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNDRDs7QURFQTtFQUNFLFdBQUE7RUFDQSwyQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Nlc3Npb24tYXNzaWdubWVudC1jaGF0L3Nlc3Npb24tYXNzaWdubWVudC1jaGF0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZXNzYWdlIHtcbiAgcGFkZGluZzogMWVtO1xuICBib3JkZXItcmFkaXVzOiAxZW07XG4gIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xufVxuXG4ub3RoZXItbWVzc2FnZSB7XG4gYmFja2dyb3VuZDogI2YwZjBhNztcbiBjb2xvcjogIzAwMDAwMDtcbn1cblxuLm15LW1lc3NhZ2Uge1xuICBiYWNrZ3JvdW5kOiAjZDlmNmZmO1xuICBjb2xvcjogIzAwMDAwMDtcbn1cblxuLnRpbWUge1xuIGNvbG9yOiAjODA4MDgwO1xuIGZsb2F0OiByaWdodDtcbiBmb250LXNpemU6IHNtYWxsO1xufVxuXG4ubWVzc2FnZS1pbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXI6IDAuMWVtIHNvbGlkIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICBib3JkZXItcmFkaXVzOiAxZW07XG4gIHJlc2l6ZTogbm9uZTtcbiAgcGFkZGluZy1sZWZ0OiAxZW07XG4gIHBhZGRpbmctcmlnaHQ6IDFlbTtcbn0iLCIubWVzc2FnZSB7XG4gIHBhZGRpbmc6IDFlbTtcbiAgYm9yZGVyLXJhZGl1czogMWVtO1xuICBtYXJnaW4tYm90dG9tOiAxZW07XG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbn1cblxuLm90aGVyLW1lc3NhZ2Uge1xuICBiYWNrZ3JvdW5kOiAjZjBmMGE3O1xuICBjb2xvcjogIzAwMDAwMDtcbn1cblxuLm15LW1lc3NhZ2Uge1xuICBiYWNrZ3JvdW5kOiAjZDlmNmZmO1xuICBjb2xvcjogIzAwMDAwMDtcbn1cblxuLnRpbWUge1xuICBjb2xvcjogIzgwODA4MDtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBmb250LXNpemU6IHNtYWxsO1xufVxuXG4ubWVzc2FnZS1pbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXI6IDAuMWVtIHNvbGlkIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICBib3JkZXItcmFkaXVzOiAxZW07XG4gIHJlc2l6ZTogbm9uZTtcbiAgcGFkZGluZy1sZWZ0OiAxZW07XG4gIHBhZGRpbmctcmlnaHQ6IDFlbTtcbn0iXX0= */\";","import { Component,ViewChild,OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport {NetworkService} from '../../services/network.service';\nimport {ChatService} from '../../services/chat.service';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport { AssignmentsService } from '../../services/assignments.service';\nimport {SessionStatus,apiurl} from '../../model/global-api';\nimport { Storage } from '@ionic/storage';\nimport {  GlobalService} from '../../services/global.service';\n@Component({\n  selector: 'app-session-assignment-chat',\n  templateUrl: './session-assignment-chat.page.html',\n  styleUrls: ['./session-assignment-chat.page.scss'],\n})\nexport class SessionAssignmentChatPage implements OnInit {\n  constructor(private globalService: GlobalService,private nativeHttp:HTTP,private storage:Storage,private assignmentsService: AssignmentsService,private activatedRoute: ActivatedRoute, public formBuilder: FormBuilder, private modalController:ModalController,private networkService:NetworkService,private chatService:ChatService) {\n    this.createchatForm = formBuilder.group({\n      recipientname: [''],\n      chattext: ['', Validators.required]\n  });\n  }\n  \n  @ViewChild('content') content: any;\n  public recipients: Array<string>;\n  public currentRecipient: string;\n sessionstatus:any;sessionstatusended:any;asgmid:any;chatIRecived:any;\n //Form \n public createchatForm: FormGroup;recipientname:any;chattext:any;listRecipient:any;noofparticipant:any;\n\n //User Info\n token:any;studentid:any;\n  ngOnInit(){\n    this.currentRecipient = \"Everyone\";\n    this.recipientname=\"Everyone\";\n  }\n  ionViewWillEnter(): void {\n    this.token=this.globalService.getselectedtoken() //Get Token\n    this.studentid=this.globalService.getselectedStudentId()//Get Tutor\n    this.sessionstatusended=SessionStatus.SESSION_STATUS_ENDED;\n    this.APIRetrieveChatInAssignment();//Retrive Chats\n    this.CallAPIListOfRecipient();//Receive Participant in Session\n    this.sessionstatus=this.assignmentsService.getselectedsessionstatus();//Get Session Status\n   setTimeout(() => {\n      this.content.scrollToBottom(300);\n  }, 2000);\n  \n}\n    //Close Chat\n    DismissModal(){\n      this.modalController.dismiss();\n    }\n    //Change of selected recipient\n    selectChanged(selectrecipient) {\n      this.currentRecipient = selectrecipient;\n      this.recipientname = selectrecipient;\n     // console.log(this.recipientname)\n     }\n    SendMessage(){\n      if(this.networkService.online == false )\n      {\n        this.networkService.presentNetworkMsg(); \n      }\n      else{\n      if(this.createchatForm.valid)\n      {\n        //POST METHOD\n       // console.log(this.recipientname)\n       // console.log(this.chattext)\n        this.APISendChatInAssignment() //Send Message\n         this.chattext=\"\";\n      }\n      }\n    }\n    /*POST METHOD*/\n APIRetrieveChatInAssignment()\n {\n   this.asgmid=this.assignmentsService.getselectedasgmtid()\n  this.nativeHttp.setDataSerializer('json');\n   this.nativeHttp.post(apiurl.apiUrl+'chat/retrieve', {\n    \"Authentication_Token\":this.token, //Get from storage \n   \"Asgmt_Id\":this.asgmid,\n   \"User_Id\": this.studentid,//Get from storage \n}, {\n  'Accept': 'application/json',\n  'Content-Type': 'application/json' })\n  .then(response => {\n    try {\n      response.data = JSON.parse(response.data);\n      this.storage.set('chatdetails', response.data); \n      console.log(response.data)\n      this.storage.get('chatdetails').then((val) => {\n        this.chatIRecived=val;\n        });\n    } catch(e) {\n      console.error(e);\n      this.modalController.dismiss();\n      this.assignmentsService.presentError()\n    }\n })\n .catch(response => {\n   // prints 403\n  console.log(response.status);\n\n   // prints Permission denied\n  console.log(response.error);\n  this.modalController.dismiss();\n  this.assignmentsService.presentError()\n\n });\n }\n   /*POST METHOD*/\n   APISendChatInAssignment()\n   {\n     this.asgmid=this.assignmentsService.getselectedasgmtid()//Get Assignment Id\n    this.nativeHttp.setDataSerializer('json');\n     this.nativeHttp.post(apiurl.apiUrl+'chat/send', {\n    \"Authentication_Token\":this.token, //Get from storage \n     \"Asgmt_Id\":this.asgmid,\n     \"Sender\":this.studentid,\n     \"Recipient\":this.recipientname,\n     \"Chat_Value\":this.chattext\n  }, {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json' })\n    .then(response => {\n      try {\n       response.data = JSON.parse(response.data);\n       // this.APIRetrieveChatInAssignment();\n        setInterval(() => { \n          this.APIRetrieveChatInAssignment(); // Now the \"this\" still references the component\n       }, 500);//half a second\n       this.content.scrollToBottom();\n     \n      } catch(e) {\n        console.error(e);\n        this.assignmentsService.presentErrorchat()\n      }\n   })\n   .catch(response => {\n     // prints 403\n    console.log(response.status);\n  \n     // prints Permission denied\n    console.log(response.error);\n    this.assignmentsService.presentErrorchat()\n   });\n   }\n  /*Call APIListRecipient METHOD*/\n   CallAPIListOfRecipient(){\n    this.asgmid=this.assignmentsService.getselectedasgmtid() //Get asgmt id\n    this.nativeHttp.setDataSerializer('json');\n    this.nativeHttp.post(apiurl.apiUrl+'chat/listRecipient', {\n   \"Authentication_Token\":this.token, //Get from storage \n    \"Asgmt_Id\":this.asgmid,\n    \"User_Id\": this.studentid,\n }, {\n   'Accept': 'application/json',\n   'Content-Type': 'application/json' })\n   .then(response => {\n     try {\n       response.data = JSON.parse(response.data);\n       //console.log(response.data)\n       this.listRecipient=response.data;\n       this.noofparticipant=this.listRecipient.length;\n     } catch(e) {\n       console.error(e);\n       this.modalController.dismiss();\n       this.assignmentsService.presentError()\n     }\n  })\n  .catch(response => {\n    // prints 403\n   console.log(response.status);\n \n    // prints Permission denied\n   console.log(response.error);\n   this.modalController.dismiss();\n   this.assignmentsService.presentError() \n   });\n   }\n}\n","import { Injectable } from '@angular/core';\nimport {ToastController,AlertController,LoadingController } from '@ionic/angular';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport { Storage } from '@ionic/storage';\n@Injectable({\n  providedIn: 'root'\n})\nexport class ChatService {\n\nconstructor(private nativeHttp:HTTP,private toastCtrl: ToastController,private alertController:AlertController,public loadingController: LoadingController,private storage:Storage) {}\n\n public data:any;\n  //Pop-up message\nasync presentToastWithOptions(text) {\n  const toast = await this.toastCtrl.create({\n    header: text,\n    duration: 3000,\n    position: 'bottom',\n    buttons: [{\n      text: 'CLOSE',\n      role: 'cancel'\n    }],\n    cssClass: 'toastCSS'\n  });\n  toast.present();\n}\n\n\n}\n"],"sourceRoot":"webpack:///"}